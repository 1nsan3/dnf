

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>DNF Release Notes &mdash; DNF 0.3.7-1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.3.7-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="DNF 0.3.7-1 documentation" href="index.html" />
    <link rel="next" title="Changes in DNF CLI compared to Yum" href="cli_vs_yum.html" />
    <link rel="prev" title="DNF Configuration Reference" href="conf_ref.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cli_vs_yum.html" title="Changes in DNF CLI compared to Yum"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="conf_ref.html" title="DNF Configuration Reference"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">DNF 0.3.7-1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="dnf-release-notes">
<h1><a class="toc-backref" href="#id7">DNF Release Notes</a><a class="headerlink" href="#dnf-release-notes" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#dnf-release-notes" id="id7">DNF Release Notes</a><ul>
<li><a class="reference internal" href="#release-notes" id="id8">0.3.1 Release Notes</a></li>
<li><a class="reference internal" href="#id1" id="id9">0.3.2 Release Notes</a></li>
<li><a class="reference internal" href="#id2" id="id10">0.3.3 Release Notes</a></li>
<li><a class="reference internal" href="#id3" id="id11">0.3.4 Release Notes</a></li>
<li><a class="reference internal" href="#id4" id="id12">0.3.5 Release Notes</a></li>
<li><a class="reference internal" href="#id5" id="id13">0.3.6 Release Notes</a></li>
<li><a class="reference internal" href="#id6" id="id14">0.3.7 Release Notes</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="release-notes">
<h2><a class="toc-backref" href="#id8">0.3.1 Release Notes</a><a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h2>
<p>0.3.1 brings mainly changes to the automatic metadata synchronization. In
Fedora, <tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">makecache</span></tt> is triggered via SystemD timers now and takes an
optional <tt class="docutils literal"><span class="pre">background</span></tt> extra-argument to run in resource-considerate mode (no
syncing when running on laptop battery, only actually performing the check at
most once every three hours). Also, the IO and CPU priorities of the
timer-triggered process are lowered now and shouldn&#8217;t as noticably impact the
system&#8217;s performance.</p>
<p>The administrator can also easily disable the automatic metadata updates by
setting <a class="reference internal" href="conf_ref.html#metadata-timer-sync-label"><em>metadata_timer_sync</em></a> to 0.</p>
<p>The default value of <a class="reference internal" href="conf_ref.html#metadata-expire-label"><em>metadata_expire</em></a> was
increased from 6 hours to 48 hours. In Fedora, the repos usually set this
explicitly so this change is not going to cause much impact.</p>
<p>The following reported issues are fixed in this release:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=916657">Bug 916657 - dnf remove wants to downgrade packages; fails on transaction check</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=921294">Bug 921294 - dnf downgrade failure</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=922521">Bug 922521 - DNF crashes when passing packages to it via pipe</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=926871">Bug 926871 - [abrt] download_packages:AttributeError: &#8216;Repo&#8217; object has no attribute &#8216;cache&#8217;</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=878826">Bug 878826 - [rfe] dnf could use systemd timer unit rather than crontabs</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=922664">Bug 922664 - an option for disabling the regular metadata sync</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=892064">Bug 892064 - hourly dnf makecache too frequent, also consider using ionice</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=919769">Bug 919769 - dnf runs makecache hourly despite laptop power state</a></li>
</ul>
</div>
<div class="section" id="id1">
<h2><a class="toc-backref" href="#id9">0.3.2 Release Notes</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>The major improvement in this version is in speeding up syncing of repositories
using metalink by looking at the repomd.xml checksums. This effectively lets DNF
cheaply refresh expired repositories in cases where the original has not
changed: for instance the main Fedora repository is refreshed with one 30 kB
HTTP download. This functionality is present in the current Yum but hasn&#8217;t
worked in DNF since 3.0.0.</p>
<p>Otherwise this is mainly a release fixing bugs and tracebacks. The following
reported bugs are fixed:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=947258">Bug 947258 - dnf doesn&#8217;t erase excluded packages</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=889202">Bug 889202 - [rfe] [repos] add support for skip_if_unavailable in repository config</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=923384">Bug 923384 - DNF uses yum web signature</a></li>
</ul>
</div>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id10">0.3.3 Release Notes</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>The improvements in 0.3.3 are only API changes to the logging. There is a new
module <tt class="docutils literal"><span class="pre">dnf.logging</span></tt> that defines simplified logging structure compared to
Yum, with fewer logging levels and <a class="reference external" href="https://github.com/akozumpl/dnf/wiki/Hacking#logging">simpler usage for the developers</a>. The RPM transaction logs are
no longer in <tt class="docutils literal"><span class="pre">/var/log/dnf.transaction.log</span></tt> but in <tt class="docutils literal"><span class="pre">/var/log/dnf.rpm.log</span></tt> by
default.</p>
<p>The exception classes were simplified and moved to <tt class="docutils literal"><span class="pre">dnf.exceptions</span></tt>.</p>
<p>The following bugs are fixed in 0.3.3:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=950722">Bug 950722 - [abrt] dnf-0.3.2-1.gitf3818b4.fc20: queries.py:179:_construct_result:AttributeError: &#8216;NoneType&#8217; object has no attribute &#8216;query&#8217;</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=903775">Bug 903775 - Update command is deprecated but nomenclature still being used</a></li>
</ul>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id11">0.3.4 Release Notes</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>0.3.4 is the first DNF version since the fork from Yum that is able to
manipulate the comps data. In practice, <tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">group</span> <span class="pre">install</span> <span class="pre">&lt;group</span> <span class="pre">name&gt;</span></tt> works
again. No other group commands are supported yet.</p>
<p>Support for <tt class="docutils literal"><span class="pre">librepo-0.0.4</span></tt> and related cleanups and extensions this new
version allows are included (see the buglist below)</p>
<p>This version has also improved reporting of obsoleted packages in the CLI (the
Yum-style &#8220;replacing &lt;package-nevra&gt;&#8221; appears in the textual transaction
overview).</p>
<p>The follwoing bugfixes are included in 0.3.4:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=887317">Bug 887317 - Dnf should beter report upgrades via obsoletes.</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=914919">Bug 914919 - DNF does not have   group install</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=922667">Bug 922667 - the cronned &#8216;dnf makecache&#8217; runs should give up quickly if there&#8217;s network/checksumming issues</a></li>
</ul>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id12">0.3.5 Release Notes</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>Besides few fixed bugs this version should not present any differences for the
user. On the inside, the transaction managing mechanisms have changed
drastically, bringing code simplification, better maintainability and better
testability.</p>
<p>In Fedora, there is a change in the spec file effectively preventing the
makecache timer from running <em>immediatelly after installation</em>. The timer
service is still enabled by default, but unless the user starts it manually with
<tt class="docutils literal"><span class="pre">systemctl</span> <span class="pre">start</span> <span class="pre">dnf-makecache.timer</span></tt> it will not run until after the first
reboot. This is in alignment with Fedora packaging best practices.</p>
<p>The following bugfixes are included in 0.3.5:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=958452">Bug 958452 - dnf update Produces Log Messages Involving &#8220;ts_done state&#8221;</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=959990">Bug 959990 - dnf dist-sync recommended in manual page but is missing from dnf&#8217;s command line options</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=961549">Bug 961549 - [abrt] dnf-0.3.4-1.git03fd687.fc19: __init__.py:826:perform:Exception: (10, &#8216;Error HTTP/FTP status code: 404&#8217;, 404)</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=962188">Bug 962188 - obsoletes sometimes result in &#8220;ERROR with transaction check vs depsolve&#8221;</a></li>
</ul>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id13">0.3.6 Release Notes</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>This is a bugfix release, including the following fixes:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=966372">Bug 966372 - dnf prints an empty python list after running without root privileges</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=965410">Bug 965410 - &#8220;dnf clean expire-cache&#8221; does not have any effect</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=963627">Bug 963627 - dnf shows way over 100% in its progress bar</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=965114">Bug 965114 - When running dnf using file:/// as the media, it tries to erase packages in file:///</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=964467">Bug 964467 - group install is broken</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=963680">Bug 963680 - dnf dies with a traceback during update</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=963133">Bug 963133 - name is misprinted when package is not found</a></li>
</ul>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id14">0.3.7 Release Notes</a><a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<p>This is a bugfix release:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=916662">Bug 916662 - dnf remove wants to install new packages</a></li>
<li><a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=967732">Bug 967732 - [abrt] dnf-0.3.6-1.git24ce938.fc19: __init__.py:364:hashopen:DBNoSuchFileError: (2, &#8216;Datei oder Verzeichnis nicht gefunden&#8217;)</a></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">DNF Release Notes</a><ul>
<li><a class="reference internal" href="#release-notes">0.3.1 Release Notes</a></li>
<li><a class="reference internal" href="#id1">0.3.2 Release Notes</a></li>
<li><a class="reference internal" href="#id2">0.3.3 Release Notes</a></li>
<li><a class="reference internal" href="#id3">0.3.4 Release Notes</a></li>
<li><a class="reference internal" href="#id4">0.3.5 Release Notes</a></li>
<li><a class="reference internal" href="#id5">0.3.6 Release Notes</a></li>
<li><a class="reference internal" href="#id6">0.3.7 Release Notes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="conf_ref.html"
                        title="previous chapter">DNF Configuration Reference</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cli_vs_yum.html"
                        title="next chapter">Changes in DNF CLI compared to Yum</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/release_notes.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cli_vs_yum.html" title="Changes in DNF CLI compared to Yum"
             >next</a> |</li>
        <li class="right" >
          <a href="conf_ref.html" title="DNF Configuration Reference"
             >previous</a> |</li>
        <li><a href="index.html">DNF 0.3.7-1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Red Hat.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>