

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Changes in DNF CLI compared to Yum &mdash; DNF 0.3.10-1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.3.10-1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="DNF 0.3.10-1 documentation" href="index.html" />
    <link rel="next" title="DNF API Reference" href="api.html" />
    <link rel="prev" title="DNF Release Notes" href="release_notes.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api.html" title="DNF API Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="release_notes.html" title="DNF Release Notes"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">DNF 0.3.10-1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="changes-in-dnf-cli-compared-to-yum">
<h1><a class="toc-backref" href="#id3">Changes in DNF CLI compared to Yum</a><a class="headerlink" href="#changes-in-dnf-cli-compared-to-yum" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#changes-in-dnf-cli-compared-to-yum" id="id3">Changes in DNF CLI compared to Yum</a><ul>
<li><a class="reference internal" href="#no-skip-broken" id="id4">No <tt class="docutils literal"><span class="pre">--skip-broken</span></tt></a></li>
<li><a class="reference internal" href="#update-and-upgrade-commands-are-the-same" id="id5">Update and Upgrade Commands are the Same</a></li>
<li><a class="reference internal" href="#clean-requirements-on-remove-on-by-default" id="id6"><tt class="docutils literal"><span class="pre">clean_requirements_on_remove</span></tt> on by default</a></li>
<li><a class="reference internal" href="#no-resolvedep-command" id="id7">No <tt class="docutils literal"><span class="pre">resolvedep</span></tt> command</a></li>
<li><a class="reference internal" href="#excludes-and-repo-excludes-apply-to-all-operations" id="id8">Excludes and repo excludes apply to all operations</a></li>
<li><a class="reference internal" href="#protected-packages-is-ignored" id="id9"><tt class="docutils literal"><span class="pre">protected_packages</span></tt> is ignored</a></li>
<li><a class="reference internal" href="#dnf-erase-kernel-deletes-all-packages-called-kernel" id="id10"><tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">erase</span> <span class="pre">kernel</span></tt> deletes all packages called <tt class="docutils literal"><span class="pre">kernel</span></tt></a></li>
<li><a class="reference internal" href="#dnf-provides-bin-file-does-not-find-any-packages-on-fedora" id="id11"><tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">provides</span> <span class="pre">/bin/&lt;file&gt;</span></tt> does not find any packages on Fedora</a></li>
<li><a class="reference internal" href="#skip-if-unavailable-enabled-by-default" id="id12"><tt class="docutils literal"><span class="pre">skip_if_unavailable</span></tt> enabled by default</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="no-skip-broken">
<h2><a class="toc-backref" href="#id4">No <tt class="docutils literal"><span class="pre">--skip-broken</span></tt></a><a class="headerlink" href="#no-skip-broken" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">--skip-broken</span></tt> command line switch is not recognized by DNF. The
semantics this was supposed to trigger in Yum is now the default for plain <tt class="docutils literal"><span class="pre">dnf</span>
<span class="pre">update</span></tt>. There is no equivalent for <tt class="docutils literal"><span class="pre">yum</span> <span class="pre">--skip-broken</span> <span class="pre">update</span> <span class="pre">foo</span></tt>, as
silentnly skipping <tt class="docutils literal"><span class="pre">foo</span></tt> in this case only amounts to masking an error
contradicting the user request. To try using the latest versions of packages in
transactions there is the <tt class="docutils literal"><span class="pre">--best</span></tt> command line switch.</p>
</div>
<div class="section" id="update-and-upgrade-commands-are-the-same">
<h2><a class="toc-backref" href="#id5">Update and Upgrade Commands are the Same</a><a class="headerlink" href="#update-and-upgrade-commands-are-the-same" title="Permalink to this headline">¶</a></h2>
<p>Invoking <tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">update</span></tt> or <tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">upgrade</span></tt>, in all their forms, has the same
effect in DNF, with the latter being preferred. In Yum <tt class="docutils literal"><span class="pre">yum</span> <span class="pre">upgrade</span></tt> was
exactly like <tt class="docutils literal"><span class="pre">yum</span> <span class="pre">--obsoletes</span> <span class="pre">update</span></tt>.</p>
</div>
<div class="section" id="clean-requirements-on-remove-on-by-default">
<h2><a class="toc-backref" href="#id6"><tt class="docutils literal"><span class="pre">clean_requirements_on_remove</span></tt> on by default</a><a class="headerlink" href="#clean-requirements-on-remove-on-by-default" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="conf_ref.html#clean-requirements-on-remove-label"><em>clean_requirements_on_remove</em></a>
switch is on by default in DNF. It can thus be confusing to compare the &#8220;erase&#8221;
operation results between DNF and Yum as by default DNF is often going to remove
more packages.</p>
</div>
<div class="section" id="no-resolvedep-command">
<h2><a class="toc-backref" href="#id7">No <tt class="docutils literal"><span class="pre">resolvedep</span></tt> command</a><a class="headerlink" href="#no-resolvedep-command" title="Permalink to this headline">¶</a></h2>
<p>The Yum version of this command is maintained for legacy reasons only. The user
can just do <tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">provides</span></tt> to find out what package gives a particular
provide.</p>
</div>
<div class="section" id="excludes-and-repo-excludes-apply-to-all-operations">
<h2><a class="toc-backref" href="#id8">Excludes and repo excludes apply to all operations</a><a class="headerlink" href="#excludes-and-repo-excludes-apply-to-all-operations" title="Permalink to this headline">¶</a></h2>
<p>Yum only respects excludes during installs and upgrades. DNF extends this to all
operations, among others erasing and listing. If you e.g. want to see a list of
all installed <tt class="docutils literal"><span class="pre">python-f*</span></tt> packages but not any of the Flask packages, the
following will work:</p>
<div class="highlight-python"><pre>dnf -x '*flask*' list installed 'python-f*'</pre>
</div>
</div>
<div class="section" id="protected-packages-is-ignored">
<h2><a class="toc-backref" href="#id9"><tt class="docutils literal"><span class="pre">protected_packages</span></tt> is ignored</a><a class="headerlink" href="#protected-packages-is-ignored" title="Permalink to this headline">¶</a></h2>
<p>DNF drops Yum&#8217;s <tt class="docutils literal"><span class="pre">protected_packages</span></tt> configuration option. Generally, DNF lets
the user do what she specified, even have DNF itself removed. Similar functionality
can be implemented by a plugin.</p>
</div>
<div class="section" id="dnf-erase-kernel-deletes-all-packages-called-kernel">
<h2><a class="toc-backref" href="#id10"><tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">erase</span> <span class="pre">kernel</span></tt> deletes all packages called <tt class="docutils literal"><span class="pre">kernel</span></tt></a><a class="headerlink" href="#dnf-erase-kernel-deletes-all-packages-called-kernel" title="Permalink to this headline">¶</a></h2>
<p>In Yum, the running kernel is spared. There is no reason to keep this in DNF,
the user can always specify concrete versions on the command line, e.g.:</p>
<div class="highlight-python"><pre>dnf erase kernel-3.9.4</pre>
</div>
</div>
<div class="section" id="dnf-provides-bin-file-does-not-find-any-packages-on-fedora">
<h2><a class="toc-backref" href="#id11"><tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">provides</span> <span class="pre">/bin/&lt;file&gt;</span></tt> does not find any packages on Fedora</a><a class="headerlink" href="#dnf-provides-bin-file-does-not-find-any-packages-on-fedora" title="Permalink to this headline">¶</a></h2>
<p>After <a class="reference external" href="https://fedoraproject.org/wiki/Features/UsrMove">UsrMove</a> there&#8217;s no
directory <tt class="docutils literal"><span class="pre">/bin</span></tt> on Fedora systems and no files get installed there,
<tt class="docutils literal"><span class="pre">/bin</span></tt> is only a symlink created by the <tt class="docutils literal"><span class="pre">filesystem</span></tt> package to point to
<tt class="docutils literal"><span class="pre">/usr/bin</span></tt>. Resolving the symlinks to their real path would only give the
user false sense that this works while in fact provides requests using globs
such as:</p>
<div class="highlight-python"><pre>dnf provides /b*/&lt;file&gt;</pre>
</div>
<p>will fail still (as it does in Yum now). To find what provides a particular
binary use the actual path for binaries on Fedora:</p>
<div class="highlight-python"><pre>dnf provides /usr/bin/&lt;file&gt;</pre>
</div>
<p>Also see related Fedora bugzillas <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=982947">982947</a> and <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=982664">982664</a>.</p>
</div>
<div class="section" id="skip-if-unavailable-enabled-by-default">
<span id="skip-if-unavailable-default"></span><h2><a class="toc-backref" href="#id12"><tt class="docutils literal"><span class="pre">skip_if_unavailable</span></tt> enabled by default</a><a class="headerlink" href="#skip-if-unavailable-enabled-by-default" title="Permalink to this headline">¶</a></h2>
<p>The important system repos should never be down and we see the third party repos
down often enough to warrant this change. Note that without this setting and
without an explicit <tt class="docutils literal"><span class="pre">skip_if_unavailable=True</span></tt> in the relevant repo .ini file
DNF immediately stops on a repo error, confusing and bothering the user.</p>
<p>See the related <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=984483">Fedora bugzilla</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Changes in DNF CLI compared to Yum</a><ul>
<li><a class="reference internal" href="#no-skip-broken">No <tt class="docutils literal"><span class="pre">--skip-broken</span></tt></a></li>
<li><a class="reference internal" href="#update-and-upgrade-commands-are-the-same">Update and Upgrade Commands are the Same</a></li>
<li><a class="reference internal" href="#clean-requirements-on-remove-on-by-default"><tt class="docutils literal"><span class="pre">clean_requirements_on_remove</span></tt> on by default</a></li>
<li><a class="reference internal" href="#no-resolvedep-command">No <tt class="docutils literal"><span class="pre">resolvedep</span></tt> command</a></li>
<li><a class="reference internal" href="#excludes-and-repo-excludes-apply-to-all-operations">Excludes and repo excludes apply to all operations</a></li>
<li><a class="reference internal" href="#protected-packages-is-ignored"><tt class="docutils literal"><span class="pre">protected_packages</span></tt> is ignored</a></li>
<li><a class="reference internal" href="#dnf-erase-kernel-deletes-all-packages-called-kernel"><tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">erase</span> <span class="pre">kernel</span></tt> deletes all packages called <tt class="docutils literal"><span class="pre">kernel</span></tt></a></li>
<li><a class="reference internal" href="#dnf-provides-bin-file-does-not-find-any-packages-on-fedora"><tt class="docutils literal"><span class="pre">dnf</span> <span class="pre">provides</span> <span class="pre">/bin/&lt;file&gt;</span></tt> does not find any packages on Fedora</a></li>
<li><a class="reference internal" href="#skip-if-unavailable-enabled-by-default"><tt class="docutils literal"><span class="pre">skip_if_unavailable</span></tt> enabled by default</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="release_notes.html"
                        title="previous chapter">DNF Release Notes</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api.html"
                        title="next chapter">DNF API Reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/cli_vs_yum.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api.html" title="DNF API Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="release_notes.html" title="DNF Release Notes"
             >previous</a> |</li>
        <li><a href="index.html">DNF 0.3.10-1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Red Hat.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>